!function(e){function t(l){if(n[l])return n[l].exports;var o=n[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var l=n(2),o=(n.n(l),n(3)),r=(n.n(o),n(4)),__=(n.n(r),wp.i18n.__),i=wp.blocks.registerBlockType,a=wp.blockEditor,s=a.InspectorControls,c=a.InspectorAdvancedControls,u=a.BlockControls,d=(a.useBlockProps,a.BlockAlignmentToolbar,a.RichText,a.AlignmentToolbar,a.Fragment,wp.components),p=(d.Toolbar,d.ToolbarButton,d.TextControl),m=(d.CheckboxControl,d.RadioControl,d.SelectControl,d.TextareaControl,d.ToggleControl),b=d.RangeControl,h=(d.Panel,d.PanelBody),f=d.PanelRow,g=d.Disabled;i("kaltura/video",{title:__("Kaltura Video"),description:__("Embed Video via Kaltura"),icon:"format-video",category:"embed",attributes:{content:{type:"string",default:"[kaltura-widget /]"},entryid:{type:"string",default:"",source:"text",selector:"entryid"},uiconfid:{type:"number",default:0,source:"text",selector:"uiconfid"},responsive:{type:"boolean",source:"text",default:!0,selector:"responsive"},hoveringControls:{type:"boolean",default:!0,source:"text",selector:"hoveringControls"},isplaylist:{type:"boolean",default:!1,source:"text",selector:"isplaylist"},width:{type:"number",default:100,source:"text",selector:"width"},height:{type:"number",default:56.25,source:"text",selector:"height"}},keywords:["Kaltura","Video","KMC"],edit:function(e){if(console.log("KALTURA VIDEO BLOCK EDIT",e),e.isSelected){var t="iframe-lightbox-link-"+e.clientId;console.log("INIT",t);var n={},l=e.attributes.content.match(/[\w-]+=".+?"/g);null!==l&&l.length>0&&(l.forEach(function(e){e=e.match(/([\w-]+)="(.+?)"/),n[e[1]]=e[2]}),console.log("PARSED FROM SHORTCODE",n),e.attributes.entryid=n.entryid,e.attributes.uiconfid=n.uiconfid,e.attributes.responsive=n.responsive,e.attributes.hoveringControls=n.hoveringControls,e.attributes.isplaylist=n.isplaylist,e.attributes.width=parseFloat(n.width),e.attributes.height=parseFloat(n.height)),Object(r.useEffect)(function(){setTimeout(function(){var e=document.getElementsByClassName(t);console.log("...ON",e),void 0!==e&&e.length>0&&[].forEach.call(e,function(e){e.lightbox=new IframeLightbox(e,{onLoaded:function(e){console.log("LIGHTBOX onLoaded",e)},onCreated:function(e){console.log("LIGHTBOX onCreated",e)},onOpened:function(e){console.log("LIGHTBOX onOpened",e)},onClosed:function(e){console.log("LIGHTBOX onClosed",e)}})})},333)},[])}var o,i=wp.data.select("core/editor").getCurrentPostId();return o=""==e.attributes.entryid?"media-upload.php?chromeless=1&post_id="+i+"&tab=kaltura_browse&contentId="+e.clientId:"media-upload.php?tab=kaltura_browse&kaction=sendtoeditor&contentId="+e.clientId+"&entryIds[0]="+e.attributes.entryid,wp.element.createElement("div",{id:"blocks-shortcode-input-0",className:"block-editor-plain-text blocks-shortcode__textarea "+e.clientId},wp.element.createElement(u,{key:"controls"}),wp.element.createElement(s,{key:"setting"},wp.element.createElement(h,{title:__("Embedded Video"),initialOpen:!0},wp.element.createElement(f,null,wp.element.createElement("button",{class:"kaltura-video"},wp.element.createElement("a",{class:"iframe-lightbox-link-"+e.clientId+" kaltura-video",id:"kalturavideo",href:o},__("Edit Video")))))),wp.element.createElement(c,null,wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(m,{label:__("Responsive"),help:__("responsive Darstellung"),checked:e.attributes.responsive,onChange:function(t){e.setAttributes({responsive:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(m,{label:__("Videosteuerung"),help:__("Anzeige der Videosteuerungsebene "),checked:e.attributes.hoveringControls,onChange:function(t){e.setAttributes({hoveringControls:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(m,{label:__("Playlist"),help:__("ist eine Playliste"),checked:e.attributes.isplaylist,onChange:function(t){e.setAttributes({isplaylist:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(b,{label:__("Breite"),help:__("Breite des Video-Players"),value:e.attributes.width,min:0,max:2*e.attributes.width,onChange:function(t){e.setAttributes({width:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(b,{label:__("H\xf6he"),help:__("H\xf6he des Video-Players"),value:e.attributes.height,min:0,max:2*e.attributes.height,onChange:function(t){e.setAttributes({height:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(p,{label:__("VideoID"),value:e.attributes.entryid,onChange:function(t){e.setAttributes({entryid:t})}}))),wp.element.createElement(f,null,wp.element.createElement(g,null,wp.element.createElement(p,{label:__("UIConfID"),value:e.attributes.uiconfid,onChange:function(t){e.setAttributes({uiconfid:t})}})))),e.attributes.content)},save:function(e){return console.log("KALTURA VIDEO BLOCK SAVE",e),wp.element.createElement("div",{id:"blocks-shortcode-input-0",className:"block-editor-plain-text blocks-shortcode__textarea"},e.attributes.content)}})},function(e,t){},function(e,t){},function(e,t){e.exports=React}]);
